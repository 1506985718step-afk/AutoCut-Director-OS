# AutoCut Director - UI Flow 产品级设计

## 🎯 核心设计原则

**用户是"导演"，系统是"剪辑助理"**

- ✅ 用户永远不接触 job_id / endpoint / ingest / DSL
- ✅ 用户只表达意图，系统负责实现
- ✅ 技术细节完全隐藏

## 全局 UI 架构（4 个一级页面）

```
AutoCut Director
├── 新建剪辑（Create）
├── 剪辑进行中（Processing）
├── 预览与修改（Review）
└── 导出与历史（Export & History）
```

⚠️ **没有**：
- API 列表
- 技术名词
- Swagger
- JSON 编辑器

---

## 页面 1：新建剪辑（Create）

### 🎬 "我要剪一个新视频"

```
[ 页面标题 ]
🎬 新建自动剪辑

[ 视频输入 ]
┌───────────────────────────┐
│  拖拽视频到这里            │
│  或 [ 选择文件 ]           │
└───────────────────────────┘
（支持 mp4 / mov）

[ 剪辑目标 ]
平台：
( ) 抖音 / 短视频（9:16）
( ) B站（16:9）
( ) YouTube（16:9）

[ 剪辑风格 ]
( ) 教学讲解
( ) 情绪故事
( ) 爆款短视频
( ) 自定义（高级）

[ 高级选项（折叠） ]
▸ 节奏： 慢 / 中 / 快
▸ 字幕密度： 少 / 标准 / 多
▸ 音乐偏好： 无 / 情绪 / 紧张 / 轻快

[ CTA ]
[ 🚀 开始自动剪辑 ]
```

### 后端实际发生的事（用户不知道）

```
POST /api/ingest/upload
POST /api/ingest/extract-audio
POST /api/ingest/scene-detection-info
POST /api/ingest/upload-edl (如有)
POST /api/ingest (complete)
```

---

## 页面 2：剪辑进行中（Processing）

### 🛠 "系统正在帮我干活"

```
[ 页面标题 ]
🛠 正在自动剪辑中…

[ 进度时间线 ]
✔ 视频已导入
✔ 音频已分析
✔ 场景已拆分
▶ AI 正在生成剪辑方案
○ 正在自动剪辑
○ 即将生成预览

[ 进度条 ]
██████████░░░░░░░ 65%

[ 状态说明 ]
预计剩余时间：1 分 20 秒

[ 高级（折叠） ]
▸ 查看详细日志（给工程师用）
```

### 后端发生的事

```
POST /api/analyze/analyze
POST /api/llm/generate-dsl
POST /api/execute/execute
```

---

## 页面 3：预览与修改（Review）

### 🔥🔥🔥 最重要：👀 "看效果，改感觉"

```
[ 页面标题 ]
🎞 剪辑预览

┌───────────────────────────┐
│        ▶ 视频预览         │
│        preview.mp4        │
└───────────────────────────┘

[ 剪辑摘要（AI 导演报告） ]
• 开头 Hook：第 3 个场景（0:12–0:18）
• 节奏：中等偏快
• 音乐：情绪型（120 BPM）
• 字幕：高亮关键词

[ 快速调整（意图级） ]
🔁 我想调整一下：

节奏：
( ) 更慢   (●) 保持   ( ) 更快

开头：
( ) 更狠一点 (●) 现在这样 ( ) 更自然

音乐：
( ) 换一首 (●) 保持 ( ) 不要音乐

字幕：
( ) 更少 (●) 正常 ( ) 更多

[ CTA ]
[ 🔄 重新生成 ] [ ✅ 这个版本可以了 ]
```

### 后端发生的事

```
POST /api/llm/generate-dsl   ← 新意图 → 新 DSL
POST /api/execute/execute    ← 再剪一版
GET  /api/jobs/{job_id}/preview
```

⚠️ **用户永远不会看到 DSL**
⚠️ 但每一次修改，都会生成一个新 DSL + 新 trace

---

## 页面 4：导出与历史（Export & History）

### 📦 "我要成片 / 我想回头看看"

```
[ 页面标题 ]
📦 导出与历史版本

[ 当前版本 ]
V3（推荐）
• 节奏：快
• 音乐：情绪
• 时长：42 秒

[ 导出 ]
分辨率：
(●) 1080 × 1920（短视频）
( ) 4K

[ ⬇️ 导出成片 ]

[ 历史版本 ]
V1 – 原始版本   [ 预览 ]
V2 – 更快节奏   [ 预览 ]
V3 – 当前版本   [ 预览 ] ★

[ 项目管理 ]
[ 删除项目 ]
```

### 后端

```
GET /api/jobs/{job_id}/artifacts
GET /api/jobs/{job_id}/download/{...}
```

---

## 开发者/工程 UI（完全独立）

⚠️ **Swagger UI 只允许存在于**：
- `/dev`
- `/admin`

**工程调试绝对不作为产品入口。**

---

## 设计原则总结

1. **用户视角** - 用户看到的是"我想要什么"，不是"系统怎么做"
2. **意图优先** - 用户表达意图，系统负责实现
3. **技术隐藏** - job_id、API、DSL 对用户不可见
4. **流程导向** - 线性 4 步流程，清晰明确
5. **版本管理** - 每次调整生成新版本，可回溯

---

**版本**: v1.5.0  
**日期**: 2026-02-05  
**状态**: 产品级设计规范
