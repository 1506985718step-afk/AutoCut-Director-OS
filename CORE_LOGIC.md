# æ ¸å¿ƒé€»è¾‘å¯¹é½ - æœ¬åœ° vs è¿œç¨‹

## ğŸ¯ å®Œæ•´æµç¨‹

```
ç´ æè§†é¢‘ (input.mp4)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 0: Ingest - ç´ æé¢„å¤„ç† (Local)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0.1 åˆ›å»º Job ç›®å½•                                            â”‚
â”‚     - è¾“å…¥: input.mp4                                        â”‚
â”‚     - è¾“å‡º: jobs/job_xxx/                                    â”‚
â”‚                                                              â”‚
â”‚ 0.2 æå–éŸ³é¢‘ (ffmpeg)                                        â”‚
â”‚     - è¾“å…¥: input.mp4                                        â”‚
â”‚     - è¾“å‡º: temp/input.wav                                   â”‚
â”‚                                                              â”‚
â”‚ 0.3 åœºæ™¯åˆ‡ç‚¹æ£€æµ‹æç¤º                                          â”‚
â”‚     - æç¤ºç”¨æˆ·åœ¨ Resolve ä¸­æ“ä½œ                               â”‚
â”‚     - ç­‰å¾…ç”¨æˆ·å¯¼å‡º EDL/XML åˆ° input/                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    input/timeline.edl + temp/input.wav
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 1: åˆ†æç´ æ (Local)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1.1 åœºæ™¯åˆ‡ç‚¹æå– (EDL Parser)                                â”‚
â”‚     - è¾“å…¥: EDL æ–‡ä»¶ / FCPXML                                â”‚
â”‚     - è¾“å‡º: scenes.json                                      â”‚
â”‚                                                              â”‚
â”‚ 1.2 è¯­éŸ³è½¬å½• (Whisper ASR)                                  â”‚
â”‚     - è¾“å…¥: éŸ³é¢‘æ–‡ä»¶                                          â”‚
â”‚     - è¾“å‡º: transcript.json                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    scenes.json + transcript.json
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 2: AI ç”Ÿæˆå‰ªè¾‘è„šæœ¬ (Remote - LLM)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2.1 AI ç”Ÿæˆå‰ªè¾‘è„šæœ¬ (LLM Director)                           â”‚
â”‚     - è¾“å…¥: scenes.json + transcript.json + é£æ ¼æè¿°         â”‚
â”‚     - å¤„ç†: OpenAI GPT-4o                                    â”‚
â”‚     - è¾“å‡º: editing_dsl.json                                 â”‚
â”‚     - éªŒè¯: ç¡¬è§„åˆ™æ£€æŸ¥ï¼ˆé˜² AI å¹»è§‰ï¼‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    editing_dsl.json
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 3: Resolve è‡ªåŠ¨å‰ªè¾‘ (Local)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3.1 Resolve è‡ªåŠ¨å‰ªè¾‘ (Executor)                              â”‚
â”‚     - è¾“å…¥: editing_dsl.json + scenes.json + transcript.json â”‚
â”‚     - å¤„ç†: DaVinci Resolve Scripting API                    â”‚
â”‚     - åŠ¨ä½œ:                                                  â”‚
â”‚       * åˆ›å»ºæ—¶é—´çº¿                                           â”‚
â”‚       * æ·»åŠ è§†é¢‘ç‰‡æ®µ                                         â”‚
â”‚       * ç”Ÿæˆå­—å¹• (SRT)                                       â”‚
â”‚       * æ·»åŠ æ–‡å­—å åŠ                                          â”‚
â”‚       * æ·»åŠ èƒŒæ™¯éŸ³ä¹                                         â”‚
â”‚       * å¯¼å‡ºæ¸²æŸ“                                             â”‚
â”‚     - è¾“å‡º: æˆç‰‡ (MP4)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    æˆç‰‡ (output/final.mp4)
```

---

## ğŸ“ èŒè´£åˆ’åˆ†

### æœ¬åœ°å¤„ç† (Local)

**ç‰¹ç‚¹**:
- âœ… ä¸éœ€è¦ç½‘ç»œ
- âœ… æ•°æ®éšç§ä¿æŠ¤
- âœ… å¤„ç†é€Ÿåº¦å¿«
- âœ… ç›´æ¥æ“ä½œæœ¬åœ°æ–‡ä»¶å’Œè½¯ä»¶

**æ¨¡å—**:

#### 0. ç´ æé¢„å¤„ç† (Ingest)
```python
# app/tools/media_ingest.py
from app.tools.media_ingest import MediaIngest

ingest = MediaIngest(job_dir="jobs")
result = ingest.ingest_video(
    video_path="input.mp4",
    job_id="job_001",
    extract_audio=True
)
# è¾“å‡º: job ç›®å½• + éŸ³é¢‘æ–‡ä»¶ + åœºæ™¯æ£€æµ‹æç¤º
```

**å¤„ç†å†…å®¹**:
- åˆ›å»º job ç›®å½•ç»“æ„
- ä½¿ç”¨ ffmpeg æå–éŸ³é¢‘
- æç¤ºç”¨æˆ·åœ¨ Resolve ä¸­åšåœºæ™¯åˆ‡ç‚¹æ£€æµ‹
- ç­‰å¾…ç”¨æˆ·å¯¼å‡º EDL/XML

#### 1. åœºæ™¯åˆ‡ç‚¹æå–
```python
# app/tools/scene_from_edl.py
from app.tools.scene_from_edl import parse_edl_to_scenes

scenes_data = parse_edl_to_scenes(
    edl_path="timeline.edl",
    fps=30,
    primary_clip_path="D:/Footage/input.mp4"
)
# è¾“å‡º: scenes.json
```

**å¤„ç†å†…å®¹**:
- è§£æ EDL/FCPXML æ–‡ä»¶
- æå–åœºæ™¯æ—¶é—´ç 
- è½¬æ¢ä¸ºæ ‡å‡†åŒ–çš„ scenes.v1.json æ ¼å¼

#### 2. è¯­éŸ³è½¬å½•
```python
# app/tools/asr_whisper.py
from app.tools.asr_whisper import transcribe_audio

transcript_data = transcribe_audio(
    audio_path="input.mp4",
    model="base",
    language="zh"
)
# è¾“å‡º: transcript.json
```

**å¤„ç†å†…å®¹**:
- ä½¿ç”¨ Whisper æ¨¡å‹æœ¬åœ°è½¬å½•
- ç”Ÿæˆæ—¶é—´æˆ³å¯¹é½çš„å­—å¹•
- è¾“å‡ºæ ‡å‡†åŒ–çš„ transcript.v1.json æ ¼å¼

#### 3. Resolve è‡ªåŠ¨å‰ªè¾‘
```python
# app/executor/runner.py
from app.executor.runner import run_actions

trace = run_actions(
    actions=action_list,
    trace_path="trace.json"
)
# è¾“å‡º: DaVinci Resolve æ—¶é—´çº¿ + æˆç‰‡
```

**å¤„ç†å†…å®¹**:
- è¿æ¥ DaVinci Resolve
- æ‰§è¡Œå‰ªè¾‘åŠ¨ä½œï¼ˆåˆ›å»ºæ—¶é—´çº¿ã€æ·»åŠ ç‰‡æ®µã€å­—å¹•ã€å¯¼å‡ºï¼‰
- è®°å½•æ‰§è¡Œæ—¥å¿—

---

### è¿œç¨‹å¤„ç† (Remote - LLM)

**ç‰¹ç‚¹**:
- âš ï¸ éœ€è¦ç½‘ç»œè¿æ¥
- âš ï¸ éœ€è¦ API Key
- âœ… AI æ™ºèƒ½å†³ç­–
- âœ… å¤šå¹³å°é£æ ¼æ”¯æŒ

**æ¨¡å—**:

#### AI ç”Ÿæˆå‰ªè¾‘è„šæœ¬
```python
# app/core/llm_engine.py
from app.core.llm_engine import LLMDirector

director = LLMDirector()
dsl = director.generate_editing_dsl(
    scenes=scenes,
    transcript=transcript,
    style_prompt="æŠ–éŸ³çˆ†æ¬¾é£æ ¼ï¼šèŠ‚å¥å¿«ã€æ–‡å­—å¤šã€å¼ºè°ƒå…³é”®è¯"
)
# è¾“å‡º: editing_dsl.json
```

**å¤„ç†å†…å®¹**:
- è°ƒç”¨ OpenAI GPT-4o API
- åˆ†æåœºæ™¯å’Œè½¬å½•å†…å®¹
- æ ¹æ®é£æ ¼è¦æ±‚ç”Ÿæˆå‰ªè¾‘è„šæœ¬
- è¾“å‡ºæ ‡å‡†åŒ–çš„ editing_dsl.v1.json æ ¼å¼

**éªŒè¯**:
```python
# app/models/schemas.py
from app.models.schemas import DSLValidator

errors = DSLValidator.validate_dsl_against_scenes(dsl, scenes_data)
if errors:
    print("AI å¹»è§‰æ£€æµ‹ï¼š", errors)
```

---

## ğŸ”„ æ•°æ®æµ

### è¾“å…¥ â†’ è¾“å‡º

```
è¾“å…¥:
â”œâ”€â”€ ç´ æè§†é¢‘ (MP4/MOV)
â”œâ”€â”€ EDL æ–‡ä»¶ (timeline.edl)
â””â”€â”€ é£æ ¼æè¿° (æ–‡æœ¬)

æœ¬åœ°å¤„ç† 1:
â”œâ”€â”€ è¾“å…¥: EDL æ–‡ä»¶
â””â”€â”€ è¾“å‡º: scenes.json

æœ¬åœ°å¤„ç† 2:
â”œâ”€â”€ è¾“å…¥: ç´ æè§†é¢‘
â””â”€â”€ è¾“å‡º: transcript.json

è¿œç¨‹å¤„ç†:
â”œâ”€â”€ è¾“å…¥: scenes.json + transcript.json + é£æ ¼æè¿°
â””â”€â”€ è¾“å‡º: editing_dsl.json

æœ¬åœ°å¤„ç† 3:
â”œâ”€â”€ è¾“å…¥: editing_dsl.json + scenes.json + transcript.json
â””â”€â”€ è¾“å‡º: æˆç‰‡ (MP4)
```

### åè®®æ–‡ä»¶

#### scenes.v1.json (æœ¬åœ°ç”Ÿæˆ)
```json
{
  "meta": {
    "schema": "scenes.v1",
    "fps": 30,
    "source": "davinci/edl"
  },
  "media": {
    "primary_clip_path": "D:/Footage/input.mp4"
  },
  "scenes": [
    {
      "scene_id": "S0001",
      "start_frame": 0,
      "end_frame": 120,
      "start_tc": "00:00:00:00",
      "end_tc": "00:00:04:00"
    }
  ]
}
```

#### transcript.v1.json (æœ¬åœ°ç”Ÿæˆ)
```json
{
  "meta": {
    "schema": "transcript.v1",
    "language": "zh"
  },
  "segments": [
    {
      "start": 0.0,
      "end": 2.8,
      "text": "90%çš„äººç¬¬ä¸€æ­¥å°±å¼¹é”™äº†"
    }
  ]
}
```

#### editing_dsl.v1.json (è¿œç¨‹ç”Ÿæˆ)
```json
{
  "meta": {
    "schema": "editing_dsl.v1",
    "target": "douyin",
    "aspect": "9:16"
  },
  "editing_plan": {
    "timeline": [
      {
        "order": 1,
        "scene_id": "S0001",
        "trim_frames": [10, 90],
        "purpose": "hook",
        "overlay_text": "ç¬¬ä¸€æ­¥å°±é”™äº†"
      }
    ],
    "subtitles": {
      "mode": "from_transcript",
      "style": "bold_yellow"
    },
    "music": {
      "track_path": "",
      "volume_db": -18
    }
  },
  "export": {
    "resolution": "1080x1920",
    "format": "mp4"
  }
}
```

---

## ğŸ” æ•°æ®éšç§

### æœ¬åœ°æ•°æ®
- âœ… ç´ æè§†é¢‘ - å§‹ç»ˆåœ¨æœ¬åœ°
- âœ… EDL æ–‡ä»¶ - å§‹ç»ˆåœ¨æœ¬åœ°
- âœ… æˆç‰‡ - å§‹ç»ˆåœ¨æœ¬åœ°

### å‘é€åˆ°è¿œç¨‹çš„æ•°æ®
- âš ï¸ scenes.json - ä»…åŒ…å«æ—¶é—´ç ä¿¡æ¯ï¼ˆæ— è§†é¢‘å†…å®¹ï¼‰
- âš ï¸ transcript.json - ä»…åŒ…å«è½¬å½•æ–‡æœ¬ï¼ˆæ— éŸ³é¢‘å†…å®¹ï¼‰
- âš ï¸ é£æ ¼æè¿° - ç”¨æˆ·æä¾›çš„æ–‡æœ¬

### ä¸å‘é€åˆ°è¿œç¨‹çš„æ•°æ®
- âœ… è§†é¢‘æ–‡ä»¶æœ¬èº«
- âœ… éŸ³é¢‘æ–‡ä»¶æœ¬èº«
- âœ… ä»»ä½•åª’ä½“å†…å®¹

**ç»“è®º**: è¿œç¨‹ LLM åªæ¥æ”¶å…ƒæ•°æ®ï¼ˆæ—¶é—´ç ã€æ–‡æœ¬ï¼‰ï¼Œä¸æ¥æ”¶å®é™…åª’ä½“æ–‡ä»¶ã€‚

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### æœ¬åœ°å¤„ç†ä¼˜åŒ–

#### 1. åœºæ™¯åˆ‡ç‚¹æå–
```python
# å¿«é€Ÿè§£æï¼Œæ— éœ€è§†é¢‘å¤„ç†
# æ—¶é—´: < 1 ç§’
parse_edl_to_scenes(edl_path, fps, primary_clip)
```

#### 2. è¯­éŸ³è½¬å½•
```python
# ä½¿ç”¨åˆé€‚çš„ Whisper æ¨¡å‹
# tiny: æœ€å¿«ï¼Œå‡†ç¡®åº¦è¾ƒä½
# base: å¹³è¡¡ï¼ˆæ¨èï¼‰
# small/medium/large: æ›´å‡†ç¡®ï¼Œæ›´æ…¢

transcribe_audio(audio_path, model="base")  # æ¨è
```

**æ€§èƒ½å¯¹æ¯”**:
| æ¨¡å‹ | é€Ÿåº¦ | å‡†ç¡®åº¦ | å†…å­˜ |
|------|------|--------|------|
| tiny | âš¡âš¡âš¡âš¡âš¡ | â­â­ | 1GB |
| base | âš¡âš¡âš¡âš¡ | â­â­â­ | 1GB |
| small | âš¡âš¡âš¡ | â­â­â­â­ | 2GB |

#### 3. Resolve æ‰§è¡Œ
```python
# æ‰¹é‡æ‰§è¡ŒåŠ¨ä½œï¼Œå‡å°‘ API è°ƒç”¨
actions = [
    create_timeline(...),
    append_scene(...),
    append_scene(...),
    render_subtitles(...),
    export_mp4(...)
]
run_actions(actions)  # ä¸€æ¬¡æ€§æ‰§è¡Œ
```

### è¿œç¨‹å¤„ç†ä¼˜åŒ–

#### 1. ç¼“å­˜ DSL
```python
# ç›¸åŒç´ æ + ç›¸åŒé£æ ¼ = ç›¸åŒ DSL
import hashlib

cache_key = hashlib.md5(
    f"{scenes_hash}_{transcript_hash}_{style}".encode()
).hexdigest()

if cache_key in cache:
    dsl = cache[cache_key]
else:
    dsl = director.generate_editing_dsl(...)
    cache[cache_key] = dsl
```

#### 2. æ‰¹é‡ç”Ÿæˆ
```python
# ä¸€æ¬¡æ€§ç”Ÿæˆå¤šä¸ªå¹³å°ç‰ˆæœ¬
styles = ["douyin", "bilibili", "youtube"]
results = await batch_generate(scenes, transcript, styles)
```

---

## ğŸ”§ é…ç½®é€‰é¡¹

### æœ¬åœ°é…ç½®

```bash
# .env
# Whisper é…ç½®
WHISPER_MODEL=base          # tiny/base/small/medium/large
WHISPER_DEVICE=cpu          # cpu/cuda

# Resolve é…ç½®
RESOLVE_SCRIPT_DIR=D:/DaVinciResolve/.../Scripting/Modules
```

### è¿œç¨‹é…ç½®

```bash
# .env
# LLM é…ç½®
OPENAI_API_KEY=sk-xxx
OPENAI_MODEL=gpt-4o         # gpt-4o/gpt-4-turbo
OPENAI_BASE_URL=            # å¯é€‰ï¼šè‡ªå®šä¹‰ç«¯ç‚¹
```

---

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´æµæ°´çº¿

```python
from run_pipeline import Pipeline

config = {
    # æœ¬åœ°è¾“å…¥
    "edl_path": "timeline.edl",
    "audio_path": "input.mp4",
    "primary_clip_path": "input.mp4",
    
    # æœ¬åœ°é…ç½®
    "fps": 30,
    "whisper_model": "base",
    "language": "zh",
    
    # è¿œç¨‹é…ç½®
    "style": "æŠ–éŸ³çˆ†æ¬¾é£æ ¼ï¼šèŠ‚å¥å¿«ã€æ–‡å­—å¤šã€å¼ºè°ƒå…³é”®è¯",
    
    # æœ¬åœ°è¾“å‡º
    "output_path": "output.mp4",
    "output_dir": "output"
}

pipeline = Pipeline(config)
await pipeline.run()
```

### åˆ†æ­¥æ‰§è¡Œ

```python
# æœ¬åœ°ï¼šé˜¶æ®µ 1 - åˆ†æç´ æ
await pipeline.stage_1_analyze()
# è¾“å‡º: scenes.json, transcript.json

# è¿œç¨‹ï¼šé˜¶æ®µ 2 - AI ç”Ÿæˆ
await pipeline.stage_2_generate_dsl()
# è¾“å‡º: editing_dsl.json

# æœ¬åœ°ï¼šé˜¶æ®µ 3 - Resolve æ‰§è¡Œ
await pipeline.stage_3_execute()
# è¾“å‡º: æˆç‰‡ (MP4)
```

---

## ğŸ“Š æ—¶é—´ä¼°ç®—

### å…¸å‹ 5 åˆ†é’Ÿè§†é¢‘

| é˜¶æ®µ | å¤„ç† | æ—¶é—´ | ä½ç½® |
|------|------|------|------|
| 1. åœºæ™¯åˆ‡ç‚¹ | EDL è§£æ | < 1s | æœ¬åœ° |
| 2. è¯­éŸ³è½¬å½• | Whisper (base) | 1-2min | æœ¬åœ° |
| 3. AI ç”Ÿæˆ | GPT-4o | 10-30s | è¿œç¨‹ |
| 4. Resolve æ‰§è¡Œ | å‰ªè¾‘ + å¯¼å‡º | 2-5min | æœ¬åœ° |
| **æ€»è®¡** | | **3-8min** | |

**ä¼˜åŒ–å**:
- ä½¿ç”¨ tiny æ¨¡å‹: 2-5min
- ç¼“å­˜ DSL: 2-4min
- å¹¶è¡Œå¤„ç†: 1-3min

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æœ¬åœ°ä¼˜å…ˆ
- âœ… å°½å¯èƒ½åœ¨æœ¬åœ°å¤„ç†
- âœ… åªåœ¨å¿…è¦æ—¶è°ƒç”¨è¿œç¨‹ API
- âœ… ç¼“å­˜è¿œç¨‹ç»“æœ

### 2. æ•°æ®æœ€å°åŒ–
- âœ… åªå‘é€å¿…è¦çš„å…ƒæ•°æ®
- âœ… ä¸å‘é€å®é™…åª’ä½“æ–‡ä»¶
- âœ… å‹ç¼© JSON æ•°æ®

### 3. é”™è¯¯å¤„ç†
- âœ… æœ¬åœ°å¤„ç†å¤±è´¥ â†’ ç«‹å³åœæ­¢
- âœ… è¿œç¨‹å¤„ç†å¤±è´¥ â†’ é‡è¯•æˆ–é™çº§
- âœ… è®°å½•è¯¦ç»†æ—¥å¿—

### 4. ç¦»çº¿æ¨¡å¼
```python
# è·³è¿‡ AI ç”Ÿæˆï¼Œä½¿ç”¨é¢„è®¾ DSL
if offline_mode:
    dsl = load_preset_dsl("douyin_template.json")
else:
    dsl = director.generate_editing_dsl(...)
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [PIPELINE_GUIDE.md](PIPELINE_GUIDE.md) - æµæ°´çº¿ä½¿ç”¨æŒ‡å—
- [LLM_INTEGRATION.md](LLM_INTEGRATION.md) - LLM é›†æˆè¯¦è§£
- [ARCHITECTURE.md](ARCHITECTURE.md) - æ¶æ„è®¾è®¡æ–‡æ¡£
- [PROTOCOL.md](PROTOCOL.md) - åè®®æ–‡ä»¶è§„èŒƒ

---

## ğŸ‰ æ€»ç»“

AutoCut Director é‡‡ç”¨ **æœ¬åœ° + è¿œç¨‹** æ··åˆæ¶æ„ï¼š

### æœ¬åœ°å¤„ç†
- âœ… åœºæ™¯åˆ‡ç‚¹æå–ï¼ˆEDL Parserï¼‰
- âœ… è¯­éŸ³è½¬å½•ï¼ˆWhisper ASRï¼‰
- âœ… Resolve è‡ªåŠ¨å‰ªè¾‘ï¼ˆExecutorï¼‰
- âœ… æ•°æ®éšç§ä¿æŠ¤

### è¿œç¨‹å¤„ç†
- âœ… AI ç”Ÿæˆå‰ªè¾‘è„šæœ¬ï¼ˆLLM Directorï¼‰
- âœ… æ™ºèƒ½å†³ç­–
- âœ… å¤šå¹³å°é£æ ¼æ”¯æŒ

### æ ¸å¿ƒä¼˜åŠ¿
- ğŸ”’ **éšç§ä¿æŠ¤** - åª’ä½“æ–‡ä»¶å§‹ç»ˆåœ¨æœ¬åœ°
- âš¡ **æ€§èƒ½ä¼˜åŒ–** - æœ¬åœ°å¤„ç†å¿«é€Ÿå“åº”
- ğŸ§  **AI æ™ºèƒ½** - è¿œç¨‹ LLM æä¾›ä¸“ä¸šå†³ç­–
- ğŸ”„ **çµæ´»æ¶æ„** - å¯ç¦»çº¿ã€å¯ç¼“å­˜ã€å¯æ‰©å±•

**å®Œæ•´æµç¨‹**: ç´ æ â†’ (æœ¬åœ°) åˆ†æ â†’ (è¿œç¨‹) AI ç”Ÿæˆ â†’ (æœ¬åœ°) Resolve æ‰§è¡Œ â†’ æˆç‰‡
