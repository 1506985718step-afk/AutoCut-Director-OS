# æµæ°´çº¿ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

AutoCut Director æä¾›ä¸¤ç§æµæ°´çº¿è„šæœ¬ï¼Œè®©ä½ å¯ä»¥ä¸€é”®æ‰§è¡Œå®Œæ•´çš„ AI é©±åŠ¨è§†é¢‘å‰ªè¾‘æµç¨‹ã€‚

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

### quick_start.py - äº¤äº’å¼å¿«é€Ÿå¯åŠ¨

æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼ï¼Œé€‚åˆå¿«é€Ÿæµ‹è¯•å’Œæ¼”ç¤ºã€‚

#### ä½¿ç”¨æ–¹æ³•

```bash
cd autocut-director
python quick_start.py
```

#### äº¤äº’å¼é…ç½®

è„šæœ¬ä¼šå¼•å¯¼ä½ å®Œæˆé…ç½®ï¼š

1. **è§†é¢‘æ–‡ä»¶è·¯å¾„** - è¾“å…¥ä½ çš„è§†é¢‘æ–‡ä»¶è·¯å¾„
2. **è¾“å‡ºæ–‡ä»¶è·¯å¾„** - æŒ‡å®šæˆç‰‡ä¿å­˜ä½ç½®
3. **å‰ªè¾‘é£æ ¼** - é€‰æ‹©é¢„è®¾é£æ ¼æˆ–è‡ªå®šä¹‰

#### ç¤ºä¾‹å¯¹è¯

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                  â•‘
â•‘          ğŸ¬ AutoCut Director - å¿«é€Ÿå¯åŠ¨                          â•‘
â•‘                                                                  â•‘
â•‘          AI é©±åŠ¨çš„è‡ªåŠ¨è§†é¢‘å‰ªè¾‘ç³»ç»Ÿ                                â•‘
â•‘                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼ˆæˆ–æŒ‰ Enter ä½¿ç”¨é»˜è®¤å€¼ï¼‰:

è§†é¢‘æ–‡ä»¶è·¯å¾„ [D:/Footage/input.mp4]: D:/Videos/my_video.mp4

è¾“å‡ºæ–‡ä»¶è·¯å¾„ [D:/Output/autocut_output.mp4]: D:/Output/my_output.mp4

é€‰æ‹©å‰ªè¾‘é£æ ¼:
  1. æŠ–éŸ³çˆ†æ¬¾ï¼ˆèŠ‚å¥å¿«ã€æ–‡å­—å¤šã€å¼ºè°ƒå…³é”®è¯ï¼‰
  2. Bç«™çŸ¥è¯†åŒºï¼ˆèŠ‚å¥é€‚ä¸­ã€å­—å¹•å®Œæ•´ã€å¼ºè°ƒçŸ¥è¯†ç‚¹ï¼‰
  3. YouTube Vlogï¼ˆè‡ªç„¶æµç•…ã€ä¿ç•™æƒ…æ„Ÿã€é€‚åº¦å‰ªè¾‘ï¼‰
  4. å¿«æ‰‹çƒ­é—¨ï¼ˆæ¥åœ°æ°”ã€æƒ…æ„Ÿå¼ºã€èŠ‚å¥ç´§å‡‘ï¼‰
  5. è‡ªå®šä¹‰

è¯·é€‰æ‹© [1]: 1

âœ… å·²é€‰æ‹©: æŠ–éŸ³çˆ†æ¬¾é£æ ¼ï¼šèŠ‚å¥å¿«ã€æ–‡å­—å¤šã€å¼ºè°ƒå…³é”®è¯

======================================================================
é…ç½®ç¡®è®¤:
======================================================================
  EDL æ–‡ä»¶: examples/test.edl
  è§†é¢‘æ–‡ä»¶: D:/Videos/my_video.mp4
  è¾“å‡ºæ–‡ä»¶: D:/Output/my_output.mp4
  å‰ªè¾‘é£æ ¼: æŠ–éŸ³çˆ†æ¬¾é£æ ¼ï¼šèŠ‚å¥å¿«ã€æ–‡å­—å¤šã€å¼ºè°ƒå…³é”®è¯
======================================================================

å¼€å§‹æ‰§è¡Œï¼Ÿ(y/n): y
```

---

## âš™ï¸ å®Œæ•´æµæ°´çº¿

### run_pipeline.py - å¯ç¼–ç¨‹æµæ°´çº¿

é€‚åˆè‡ªåŠ¨åŒ–ã€æ‰¹é‡å¤„ç†å’Œé›†æˆåˆ°å…¶ä»–ç³»ç»Ÿã€‚

#### ä½¿ç”¨æ–¹æ³• 1: ç›´æ¥è¿è¡Œ

ç¼–è¾‘ `run_pipeline.py` ä¸­çš„é…ç½®ï¼š

```python
config = {
    "edl_path": "examples/test.edl",
    "audio_path": "D:/Footage/input.mp4",
    "primary_clip_path": "D:/Footage/input.mp4",
    "fps": 30,
    "style": "æŠ–éŸ³çˆ†æ¬¾é£æ ¼ï¼šèŠ‚å¥å¿«ã€æ–‡å­—å¤šã€å¼ºè°ƒå…³é”®è¯",
    "output_path": "D:/Output/autocut_final.mp4",
    "output_dir": "output"
}
```

ç„¶åè¿è¡Œï¼š

```bash
python run_pipeline.py
```

#### ä½¿ç”¨æ–¹æ³• 2: å‘½ä»¤è¡Œå‚æ•°

```bash
python run_pipeline.py \
  --edl examples/test.edl \
  --audio D:/Footage/input.mp4 \
  --clip D:/Footage/input.mp4 \
  --fps 30 \
  --style "æŠ–éŸ³çˆ†æ¬¾é£æ ¼" \
  --output D:/Output/final.mp4
```

#### ä½¿ç”¨æ–¹æ³• 3: Python ä»£ç è°ƒç”¨

```python
import asyncio
from run_pipeline import Pipeline

async def my_workflow():
    config = {
        "edl_path": "my_video.edl",
        "audio_path": "my_video.mp4",
        "primary_clip_path": "my_video.mp4",
        "fps": 30,
        "style": "æŠ–éŸ³çˆ†æ¬¾é£æ ¼",
        "output_path": "output.mp4",
        "output_dir": "output"
    }
    
    pipeline = Pipeline(config)
    success = await pipeline.run()
    
    return success

asyncio.run(my_workflow())
```

---

## ğŸ“‹ æµæ°´çº¿é˜¶æ®µ

### é˜¶æ®µ 1: åˆ†æç´ æ

**è¾“å…¥**:
- EDL æ–‡ä»¶ï¼ˆåœºæ™¯åˆ‡åˆ†ï¼‰
- éŸ³é¢‘/è§†é¢‘æ–‡ä»¶ï¼ˆè¯­éŸ³è½¬å½•ï¼‰

**è¾“å‡º**:
- `scenes.json` - åœºæ™¯åˆ‡åˆ†æ•°æ®
- `transcript.json` - è¯­éŸ³è½¬å½•æ•°æ®

**å¤„ç†**:
1. è§£æ EDLï¼Œæå–åœºæ™¯æ—¶é—´ç 
2. ä½¿ç”¨ Whisper è½¬å½•éŸ³é¢‘
3. ä¿å­˜ä¸­é—´äº§ç‰©

### é˜¶æ®µ 2: AI ç”Ÿæˆå‰ªè¾‘è„šæœ¬

**è¾“å…¥**:
- `scenes.json`
- `transcript.json`
- é£æ ¼æè¿°

**è¾“å‡º**:
- `editing_dsl.json` - å‰ªè¾‘æŒ‡ä»¤

**å¤„ç†**:
1. è°ƒç”¨ LLMï¼ˆGPT-4oï¼‰ç”Ÿæˆå‰ªè¾‘è„šæœ¬
2. éªŒè¯ç¡¬è§„åˆ™ï¼ˆé˜²æ­¢ AI å¹»è§‰ï¼‰
3. ä¿å­˜ DSL

### é˜¶æ®µ 3: æ‰§è¡Œå‰ªè¾‘

**è¾“å…¥**:
- `editing_dsl.json`
- `scenes.json`
- `transcript.json`

**è¾“å‡º**:
- DaVinci Resolve æ—¶é—´çº¿
- `trace.json` - æ‰§è¡Œæ—¥å¿—
- æˆç‰‡ï¼ˆMP4ï¼‰

**å¤„ç†**:
1. è½¬æ¢ DSL ä¸º Action åˆ—è¡¨
2. è¿æ¥ DaVinci Resolve
3. æ‰§è¡ŒåŠ¨ä½œï¼ˆåˆ›å»ºæ—¶é—´çº¿ã€æ·»åŠ ç‰‡æ®µã€å­—å¹•ã€å¯¼å‡ºï¼‰
4. è®°å½•æ‰§è¡Œæ—¥å¿—

---

## ğŸ¨ é£æ ¼é¢„è®¾

### 1. æŠ–éŸ³çˆ†æ¬¾

```
ç‰¹ç‚¹ï¼šèŠ‚å¥å¿«ã€æ–‡å­—å¤šã€å¼ºè°ƒå…³é”®è¯
æ—¶é•¿ï¼š30-60 ç§’
é€‚ç”¨ï¼šçŸ­è§†é¢‘ã€å¿«èŠ‚å¥å†…å®¹
```

### 2. Bç«™çŸ¥è¯†åŒº

```
ç‰¹ç‚¹ï¼šèŠ‚å¥é€‚ä¸­ã€å­—å¹•å®Œæ•´ã€å¼ºè°ƒçŸ¥è¯†ç‚¹
æ—¶é•¿ï¼š3-10 åˆ†é’Ÿ
é€‚ç”¨ï¼šæ•™ç¨‹ã€è®²è§£ã€é•¿è§†é¢‘
```

### 3. YouTube Vlog

```
ç‰¹ç‚¹ï¼šè‡ªç„¶æµç•…ã€ä¿ç•™æƒ…æ„Ÿã€é€‚åº¦å‰ªè¾‘
æ—¶é•¿ï¼š5-15 åˆ†é’Ÿ
é€‚ç”¨ï¼šVlogã€çºªå½•ç‰‡ã€è®¿è°ˆ
```

### 4. å¿«æ‰‹çƒ­é—¨

```
ç‰¹ç‚¹ï¼šæ¥åœ°æ°”ã€æƒ…æ„Ÿå¼ºã€èŠ‚å¥ç´§å‡‘
æ—¶é•¿ï¼š15-60 ç§’
é€‚ç”¨ï¼šæƒ…æ„Ÿç±»ã€æ•…äº‹ç±»ã€åè½¬ç±»
```

### 5. è‡ªå®šä¹‰

ä½ å¯ä»¥æä¾›è‡ªå·±çš„é£æ ¼æè¿°ï¼Œä¾‹å¦‚ï¼š

```
"ç§‘æŠ€è¯„æµ‹é£æ ¼ï¼šä¸“ä¸šã€è¯¦ç»†ã€çªå‡ºå‚æ•°å’Œå¯¹æ¯”"
"ç¾é£Ÿæ•™ç¨‹é£æ ¼ï¼šæ¸©é¦¨ã€æ­¥éª¤æ¸…æ™°ã€å¼ºè°ƒå…³é”®æ­¥éª¤"
"æ—…è¡Œ Vlog é£æ ¼ï¼šè½»æ¾ã€è‡ªç„¶ã€ä¿ç•™ç¾æ™¯å’Œæƒ…æ„Ÿ"
```

---

## ğŸ“Š è¾“å‡ºæ–‡ä»¶

æµæ°´çº¿ä¼šåœ¨ `output/` ç›®å½•ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

```
output/
â”œâ”€â”€ scenes.json           # åœºæ™¯åˆ‡åˆ†æ•°æ®
â”œâ”€â”€ transcript.json       # è¯­éŸ³è½¬å½•æ•°æ®
â”œâ”€â”€ editing_dsl.json      # å‰ªè¾‘æŒ‡ä»¤
â””â”€â”€ trace.json            # æ‰§è¡Œæ—¥å¿—
```

æˆç‰‡ä¼šä¿å­˜åˆ°ä½ æŒ‡å®šçš„è¾“å‡ºè·¯å¾„ã€‚

---

## ğŸ”§ é…ç½®é€‰é¡¹

### å¿…éœ€é…ç½®

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `edl_path` | EDL æ–‡ä»¶è·¯å¾„ | `"examples/test.edl"` |
| `audio_path` | éŸ³é¢‘/è§†é¢‘æ–‡ä»¶è·¯å¾„ | `"D:/Footage/input.mp4"` |
| `primary_clip_path` | ä¸»è§†é¢‘ç‰‡æ®µè·¯å¾„ | `"D:/Footage/input.mp4"` |

### å¯é€‰é…ç½®

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `fps` | å¸§ç‡ | `30` |
| `language` | è¯­è¨€ä»£ç  | `"zh"` |
| `whisper_model` | Whisper æ¨¡å‹ | `"base"` |
| `style` | å‰ªè¾‘é£æ ¼ | `"æŠ–éŸ³çˆ†æ¬¾é£æ ¼"` |
| `output_path` | è¾“å‡ºæ–‡ä»¶è·¯å¾„ | `"D:/Output/autocut_output.mp4"` |
| `output_dir` | ä¸­é—´äº§ç‰©ç›®å½• | `"output"` |

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: LLM è°ƒç”¨å¤±è´¥

```
âŒ LLM ç”Ÿæˆå¤±è´¥: OPENAI_API_KEY not configured
```

**è§£å†³**:
1. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ `OPENAI_API_KEY`
2. ç¡®ä¿ API Key æœ‰æ•ˆ
3. æ£€æŸ¥ç½‘ç»œè¿æ¥

### é—®é¢˜ 2: Resolve è¿æ¥å¤±è´¥

```
âŒ è¿æ¥å¤±è´¥: Cannot connect to DaVinci Resolve
```

**è§£å†³**:
1. å¯åŠ¨ DaVinci Resolve
2. æ‰“å¼€ä¸€ä¸ªé¡¹ç›®
3. æ£€æŸ¥ `RESOLVE_SCRIPT_DIR` ç¯å¢ƒå˜é‡
4. è¿è¡Œ `.\scripts\set_resolve_env.ps1`

### é—®é¢˜ 3: éŸ³é¢‘è½¬å½•å¤±è´¥

```
âŒ éŸ³é¢‘è½¬å½•å¤±è´¥: ...
```

**è§£å†³**:
1. æ£€æŸ¥éŸ³é¢‘æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. ç¡®ä¿ `faster-whisper` å·²å®‰è£…
3. å°è¯•ä½¿ç”¨æ›´å°çš„æ¨¡å‹ï¼ˆ`tiny` æˆ– `base`ï¼‰

### é—®é¢˜ 4: æ–‡ä»¶è·¯å¾„é”™è¯¯

```
âš ï¸  è­¦å‘Š: æ–‡ä»¶ä¸å­˜åœ¨: D:/Footage/input.mp4
```

**è§£å†³**:
1. æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. ä½¿ç”¨ç»å¯¹è·¯å¾„
3. ç¡®ä¿æ–‡ä»¶å¯è®¿é—®

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å‡†å¤‡å·¥ä½œ

- âœ… ç¡®ä¿ DaVinci Resolve æ­£åœ¨è¿è¡Œ
- âœ… å‡†å¤‡å¥½ EDL æ–‡ä»¶å’Œè§†é¢‘æ–‡ä»¶
- âœ… é…ç½®å¥½ `.env` æ–‡ä»¶ï¼ˆOPENAI_API_KEYï¼‰
- âœ… æ£€æŸ¥ç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘ 1GBï¼‰

### 2. é¦–æ¬¡ä½¿ç”¨

- âœ… ä½¿ç”¨ `quick_start.py` å¿«é€Ÿæµ‹è¯•
- âœ… ä½¿ç”¨ç¤ºä¾‹æ–‡ä»¶éªŒè¯åŠŸèƒ½
- âœ… æ£€æŸ¥è¾“å‡ºè´¨é‡
- âœ… è°ƒæ•´é…ç½®å‚æ•°

### 3. æ‰¹é‡å¤„ç†

```python
# æ‰¹é‡å¤„ç†å¤šä¸ªè§†é¢‘
videos = [
    {"edl": "video1.edl", "audio": "video1.mp4", "output": "output1.mp4"},
    {"edl": "video2.edl", "audio": "video2.mp4", "output": "output2.mp4"},
    {"edl": "video3.edl", "audio": "video3.mp4", "output": "output3.mp4"},
]

for video in videos:
    config = {
        "edl_path": video["edl"],
        "audio_path": video["audio"],
        "primary_clip_path": video["audio"],
        "output_path": video["output"],
        # ... å…¶ä»–é…ç½®
    }
    
    pipeline = Pipeline(config)
    await pipeline.run()
```

### 4. è‡ªåŠ¨åŒ–é›†æˆ

```python
# é›†æˆåˆ°ä½ çš„å·¥ä½œæµ
from run_pipeline import Pipeline

async def my_video_workflow(input_file):
    # 1. é¢„å¤„ç†
    edl = preprocess_video(input_file)
    
    # 2. è¿è¡Œæµæ°´çº¿
    config = {...}
    pipeline = Pipeline(config)
    success = await pipeline.run()
    
    # 3. åå¤„ç†
    if success:
        post_process(config["output_path"])
    
    return success
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [QUICKSTART.md](QUICKSTART.md) - 5 åˆ†é’Ÿå¿«é€Ÿå¼€å§‹
- [LLM_INTEGRATION.md](LLM_INTEGRATION.md) - LLM é›†æˆæŒ‡å—
- [SUBTITLE_WORKFLOW.md](SUBTITLE_WORKFLOW.md) - å­—å¹•å·¥ä½œæµ
- [API_USAGE.md](API_USAGE.md) - API ä½¿ç”¨æŒ‡å—

---

## ğŸ¯ ç¤ºä¾‹åœºæ™¯

### åœºæ™¯ 1: å¿«é€Ÿæµ‹è¯•

```bash
# ä½¿ç”¨äº¤äº’å¼è„šæœ¬
python quick_start.py
```

### åœºæ™¯ 2: æ‰¹é‡å¤„ç†

```bash
# ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°
for video in video1 video2 video3; do
    python run_pipeline.py \
        --edl ${video}.edl \
        --audio ${video}.mp4 \
        --clip ${video}.mp4 \
        --output output/${video}_final.mp4
done
```

### åœºæ™¯ 3: è‡ªåŠ¨åŒ–å·¥ä½œæµ

```python
# é›†æˆåˆ° CI/CD
import asyncio
from run_pipeline import Pipeline

async def ci_workflow():
    config = load_config_from_env()
    pipeline = Pipeline(config)
    success = await pipeline.run()
    
    if not success:
        raise Exception("Pipeline failed")
    
    upload_to_cdn(config["output_path"])

asyncio.run(ci_workflow())
```

---

**å¼€å§‹ä½¿ç”¨**: `python quick_start.py`

**å®Œæ•´æ–‡æ¡£**: [README.md](README.md)
